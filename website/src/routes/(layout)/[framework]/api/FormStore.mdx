import { A } from 'solid-start';
import { Description, Property, Title } from '~/components';
import { isPreact, isReact } from '~/contexts';

<Title>FormStore</Title>
<Description>Type that defines the store of a form.</Description>

# FormStore

Type that defines the store of a form.

## Definition

- `FormStore` <Property type="object" />
  - `element` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].element} />
  - `submitCount` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].submitCount} />
  - `submitting` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].submitting} />
  - `submitted` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].submitted} />
  - `validating` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].validating} />
  - `touched` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].touched} />
  - `dirty` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].dirty} />
  - `invalid` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].invalid} />
  - `response` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].response} />

> The object also contains a key named `internal` which provides API's that we need internally in the library. You should not access it. Instead, use the form, field and array methods we provide you.

### Explanation

The properties of the form are reactive and can be used, for example, in the JSX area or the `useTask$` hook.

Errors that occur when submitting the form are made accessible via the `response` object. In conjunction with the <A href="../setResponse">`setResponse`</A> method, you can also use `response` to display custom feedback to your user.

export const properties = {
  solidOrQwik: {
    element: {
      type: {
        type: 'custom',
        name: 'Maybe',
        href: '../Maybe',
        generics: [{ type: 'custom', name: 'HTMLFormElement' }],
      },
    },
    submitCount: {
      type: 'number',
    },
    submitting: {
      type: 'boolean',
    },
    submitted: {
      type: 'boolean',
    },
    validating: {
      type: 'boolean',
    },
    touched: {
      type: 'boolean',
    },
    dirty: {
      type: 'boolean',
    },
    invalid: {
      type: 'boolean',
    },
    response: {
      type: { type: 'custom', name: 'FormResponse', href: '../FormResponse' },
    },
  },
  preactOrReact: {
    element: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: [
          {
            type: 'custom',
            name: 'MaybeValue',
            href: '../MaybeValue',
            generics: [{ type: 'custom', name: 'HTMLFormElement' }],
          },
        ],
      },
    },
    submitCount: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['number'],
      },
    },
    submitting: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['boolean'],
      },
    },
    submitted: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['boolean'],
      },
    },
    validating: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['boolean'],
      },
    },
    touched: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['boolean'],
      },
    },
    dirty: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['boolean'],
      },
    },
    invalid: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: ['boolean'],
      },
    },
    response: {
      type: {
        type: 'custom',
        name: 'Signal',
        generics: [
          { type: 'custom', name: 'FormResponse', href: '../FormResponse' },
        ],
      },
    },
  },
};
