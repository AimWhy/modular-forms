import { Description, Property, Qwik, Title } from '~/components';
import { isPreact, isReact } from '~/contexts';

<Title>FieldArrayStore</Title>
<Description>Type that defines the state of a form field array.</Description>

# FieldArrayStore

Type that defines the state of a form field array.

## Definition

- `FieldArrayStore` <Property type="object" />
  - `name` <Property type="string" />
  - `items` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].items} />
  - `error` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].error} />
  - `active` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].active} />
  - `touched` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].touched} />
  - `dirty` <Property {...properties[isPreact() || isReact() ? 'preactOrReact' : 'solidOrQwik'].dirty} />

### Explanation

The `items` do not contain the value of the fields, but only a random unique number.<Qwik> You should pass this value in the loop to the first JSX element as `key` property.</Qwik>

export const properties = {
  solidOrQwik: {
    items: {
      type: 'array',
      item: 'number',
    },
    error: {
      type: 'string',
    },
    active: {
      type: 'boolean',
    },
    touched: {
      type: 'boolean',
    },
    dirty: {
      type: 'boolean',
    },
  },
  preactOrReact: {
    items: {
      type: {
        type: 'custom',
        name: 'ReadonlySignal',
        generics: [
          {
            type: 'array',
            item: 'number',
          },
        ],
      },
    },
    error: {
      type: {
        type: 'custom',
        name: 'ReadonlySignal',
        generics: ['string'],
      },
    },
    active: {
      type: {
        type: 'custom',
        name: 'ReadonlySignal',
        generics: ['boolean'],
      },
    },
    touched: {
      type: {
        type: 'custom',
        name: 'ReadonlySignal',
        generics: ['boolean'],
      },
    },
    dirty: {
      type: {
        type: 'custom',
        name: 'ReadonlySignal',
        generics: ['boolean'],
      },
    },
  },
};
